(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-081fda97"],{"6a6b":function(e,t,a){},8042:function(e,t,a){"use strict";var i=a("6a6b"),l=a.n(i);l.a},e426:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"write",attrs:{id:"write","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("div",{staticClass:"editor"},[a("mavon-editor",{ref:"md",staticStyle:{"min-height":"600px"},attrs:{tabSize:4,codeStyle:"atom-one-dark"},on:{change:e.change},model:{value:e.article.content,callback:function(t){e.$set(e.article,"content",t)},expression:"article.content"}})],1),a("div",{staticClass:"info"},[a("el-form",{ref:"form_article",attrs:{model:e.article,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"标题"},model:{value:e.article.title,callback:function(t){e.$set(e.article,"title",t)},expression:"article.title"}})],1),a("el-form-item",{attrs:{label:"描 述",prop:"describe"}},[a("el-input",{attrs:{type:"textarea",maxlength:"120","show-word-limit":"",rows:"4"},model:{value:e.article.describe,callback:function(t){e.$set(e.article,"describe",t)},expression:"article.describe"}})],1),a("el-form-item",{attrs:{label:"封面"}},[a("el-input",{attrs:{placeholder:"封面"},model:{value:e.article.image,callback:function(t){e.$set(e.article,"image",t)},expression:"article.image"}})],1),a("el-form-item",{attrs:{label:"分类"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择分类"},model:{value:e.article.categoryId,callback:function(t){e.$set(e.article,"categoryId",t)},expression:"article.categoryId"}},e._l(e.categories,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"标签"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择标签"},model:{value:e.article.tagIds,callback:function(t){e.$set(e.article,"tagIds",t)},expression:"article.tagIds"}},e._l(e.tags,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"类型"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:e.article.type,callback:function(t){e.$set(e.article,"type",t)},expression:"article.type"}},[a("el-option",{attrs:{label:"原创",value:"原创"}}),a("el-option",{attrs:{label:"翻译",value:"翻译"}}),a("el-option",{attrs:{label:"转载",value:"转载"}})],1),a("div",{staticStyle:{width:"100%"}},[a("el-input",{directives:[{name:"show",rawName:"v-show",value:"原创"!=e.article.type,expression:"article.type != '原创'"}],attrs:{placeholder:"引用链接"},model:{value:e.article.link,callback:function(t){e.$set(e.article,"link",t)},expression:"article.link"}})],1)],1)]),a("el-form-item",{attrs:{label:"其他"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("el-checkbox",{attrs:{label:"评论",border:""},model:{value:e.article.commented,callback:function(t){e.$set(e.article,"commented",t)},expression:"article.commented"}}),a("el-checkbox",{attrs:{label:"置顶",border:""},model:{value:e.article.top,callback:function(t){e.$set(e.article,"top",t)},expression:"article.top"}})],1),a("el-button",{attrs:{type:"primary"},on:{click:e.handlerSubmit}},[e._v("提交")])],1)])],1)],1)])},l=[],s=a("b2d8"),o=(a("64e1"),{name:"write",components:{mavonEditor:s["mavonEditor"]},data:function(){return{loading:!1,article:{titlt:"",describe:"",image:"http://ahriknow.oss-cn-beijing.aliyuncs.com/1.jpg",content:"# Hello MavonEditor!",categoryId:"",tagIds:[],type:"原创",link:"",removed:!1,commented:!0,top:!0},tags:[],categories:[]}},methods:{change:function(e,t){this.article.content=e},handlerSubmit:function(){var e=this;if(this.$route.query.hasOwnProperty("edit")){this.loading=!0;var t=this;this.axios.put("/api/admin/article/"+t.$route.query.edit,t.article).then((function(a){200===a.data.code?(t.$router.push("/admin/article"),t.$message({showClose:!0,message:a.data.msg,type:"success"})):t.$message({showClose:!0,message:a.data.msg,type:"error"}),e.loading=!1})).catch((function(a){t.$message({showClose:!0,message:a,type:"error"}),e.loading=!1}))}else{this.loading=!0;var a=this;this.axios.post("/api/admin/article/",a.article).then((function(t){200===t.data.code?(a.$router.push("/admin/article"),a.$message({showClose:!0,message:t.data.msg,type:"success"})):a.$message({showClose:!0,message:t.data.msg,type:"error"}),e.loading=!1})).catch((function(t){a.$message({showClose:!0,message:t,type:"error"}),e.loading=!1}))}},getTag:function(){var e=this;this.loading=!0;var t=this;this.axios.get("/api/admin/tag/").then((function(a){200===a.data.code?(t.tags=a.data.data,e.loading=!1):t.$router.push({name:"auth"})})).catch((function(a){t.$message({showClose:!0,message:a,type:"error"}),e.loading=!1}))},getCategory:function(){var e=this;this.loading=!0;var t=this;this.axios.get("/api/admin/category/").then((function(a){200===a.data.code?(t.categories=a.data.data,e.loading=!1):(t.$router.push({name:"auth"}),t.$message({showClose:!0,message:a.data.msg,type:"error"}))})).catch((function(a){t.$message({showClose:!0,message:a,type:"error"}),e.loading=!1}))}},mounted:function(){if(this.getTag(),this.getCategory(),this.$route.query.hasOwnProperty("edit")){this.loading=!0;var e=this;this.axios.get("/api/admin/article/"+e.$route.query.edit).then((function(t){e.article=t.data.data,console.log(t.data.data),e.loading=!1})).catch((function(t){e.$message({showClose:!0,message:t,type:"error"}),e.loading=!1}))}}}),r=o,n=(a("8042"),a("2877")),c=Object(n["a"])(r,i,l,!1,null,"30d283c6",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-081fda97.0f95f4cb.js.map